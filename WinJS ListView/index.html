<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>WinJS_ListView</title>
    <link href="WinJS/css/ui-light.css" rel="stylesheet" />
    <script src="WinJS/js/base.js"></script>
    <script src="WinJS/js/ui.js"></script>
    <link href="css/default.css" rel="stylesheet" />
    <script src="js/CategoryViewModel.js"></script>
    <script src="js/main.js"></script>
    <style>
        section {
            height: 100%;
        }

        #categories {
            display: flex;
            flex-direction: column;
        }

        #mainCategoryGroupedListView {
            flex: 1;
        }

        .gridCaptionItem {
            display: flex;
            flex-direction: column;
            width: 60px;
        }

        .gridCaptionItem-ImageContainer, .gridCaptionItem-Detail {
            text-align: center;
        }
    </style>
</head>
<body class="win-type-body">
    <section id="categories">

        <div id="headerTemplate" data-win-control="WinJS.Binding.Template">
            <div>
                <h1 class="win-type-ellipsis" data-win-bind="textContent: ParentCategoryName;"></h1>
            </div>
        </div>

        <div id="gridItemTemplate"
             data-win-control="WinJS.Binding.Template">
            <div class="gridCaptionItem">
                <div class="gridCaptionItem-ImageContainer">
                    <img class="gridCaptionItem-Image" data-win-bind="src: ThumbnailURL" />
                </div>
                <div class="gridCaptionItem-Detail">
                    <span data-win-bind="textContent: CategoryName"></span>
                </div>
            </div>
        </div>

        <div id="mainCategoryGroupedListView"
             data-win-control="WinJS.UI.ListView"
             data-win-options="{
                    itemTemplate: select('#gridItemTemplate'),
                    groupHeaderTemplate: select('#headerTemplate'),
                    layout: {type: WinJS.UI.GridLayout},
                    selectionMode: 'none'}"
             data-win-bind="winControl.itemDataSource: categories.dataSource; winControl.groupDataSource: categories.groups.dataSource; winControl.oniteminvoked: onItemInvoked;"></div>

        <div data-win-bind="textContent: message"></div>
    </section>
</body>
</html>